(()=>{"use strict";var e={},t=null;function n(e){t=e}function o(t){e=t}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,u(o.key),o)}}function i(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}var a,l,d,s,m,f=i((function e(t,n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.title=t,this.description=n,this.urgency=o,this.dueDate=r}));function y(e){var t,n,o=document.querySelector(".content"),r=document.createElement("div");r.classList.add("todo-item"),r.innerHTML="\n    <h3>".concat(e.title,"</h3>\n    <p>").concat(e.description,"</p>\n    <p><strong>Urgency:</strong> ").concat(e.urgency,"</p>\n    <p><strong>Due Date:</strong> ").concat(e.dueDate,"</p>\n  "),o.appendChild(r),t=r,n=e.urgency,t.classList.remove("low","medium","high"),"low"===n?t.classList.add("low"):"medium"===n?t.classList.add("medium"):"high"===n&&t.classList.add("high")}function p(){var n=document.querySelector(".content"),o=document.querySelector(".modal-content");n.innerHTML="";var r=document.getElementById("addTodo");r||((r=document.createElement("button")).id="addTodo",r.textContent="Add Todo",n.appendChild(r)),r.addEventListener("click",(function(){t?v():alert("Please select a project first.")})),o&&n.appendChild(o),t&&e[t]&&e[t].forEach((function(e){return y(e)}))}function v(){var e=document.querySelector(".modal-content");e&&e.classList.toggle("hidden")}function g(){localStorage.setItem("projects",JSON.stringify(e)),localStorage.setItem("currentProject",t)}function S(){var t=document.querySelector(".projects ul");t.innerHTML="";var o=function(e){var o=document.createElement("li");o.textContent=e,o.addEventListener("click",(function(){n(e),function(e){n(e),p()}(e)})),t.appendChild(o)};for(var r in e)o(r)}a=document.getElementById("addTodo"),l=document.querySelector(".close"),d=document.querySelector("#todoform"),s=document.getElementById("deleteProject"),m=document.getElementById("addProject"),l.addEventListener("click",(function(){d.reset(),v()})),s.addEventListener("click",(function(){t&&confirm('Are you sure you want to delete the project "'.concat(t,'"?'))&&(delete e[t],n(null),g(),S(),p())})),m.addEventListener("click",(function(){var t=document.getElementById("projectName"),o=t.value.trim();o&&!e[o]&&(e[o]=[],n(o),g(),S(),p(),t.value="")})),a.addEventListener("click",(function(){t?v():alert("Please select a project first.")})),d.addEventListener("submit",(function(n){n.preventDefault();var o=document.querySelector("#title").value,r=document.querySelector("#description").value,c=document.querySelector("#urgency").value,i=document.querySelector("#dueDate").value,u=new f(o,r,c,i);e[t].push(u),y(u),g(),document.querySelector("#todoform").reset(),v()})),function(){var t=localStorage.getItem("projects");t?o(JSON.parse(t)):(o({project1:[new f("Sample Todo","This is a sample todo","medium","2024-12-31")]}),n("project1"),g());var r=localStorage.getItem("currentProject");r&&e[r]?n(r):n(Object.keys(e)[0]||null),S(),p()}(),S()})();