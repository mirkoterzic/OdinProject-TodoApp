(()=>{"use strict";var e={},t=null;function n(e){t=e}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,i(o.key),o)}}function c(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function i(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(t)?t:t+""}var u,a,l,d,s,m=c((function e(t,n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.title=t,this.description=n,this.urgency=o,this.dueDate=r}));function f(e){var t,n,o=document.querySelector(".content"),r=document.createElement("div");r.classList.add("todo-item"),r.innerHTML="\n    <h3>".concat(e.title,"</h3>\n    <p>").concat(e.description,"</p>\n    <p><strong>Urgency:</strong> ").concat(e.urgency,"</p>\n    <p><strong>Due Date:</strong> ").concat(e.dueDate,"</p>\n  "),o.appendChild(r),t=r,n=e.urgency,t.classList.remove("low","medium","high"),"low"===n?t.classList.add("low"):"medium"===n?t.classList.add("medium"):"high"===n&&t.classList.add("high")}function y(){var n=document.querySelector(".content"),o=document.querySelector(".modal-content");n.innerHTML="";var r=document.getElementById("addTodo");r||((r=document.createElement("button")).id="addTodo",r.textContent="Add Todo",n.appendChild(r)),r.addEventListener("click",(function(){t?p():alert("Please select a project first.")})),o&&n.appendChild(o),t&&e[t]&&e[t].forEach((function(e){return f(e)}))}function p(){var e=document.querySelector(".modal-content");e&&e.classList.toggle("hidden")}function v(){localStorage.setItem("projects",JSON.stringify(e)),localStorage.setItem("currentProject",t)}function g(){var t=document.querySelector(".projects ul");t.innerHTML="";var o=function(e){var o=document.createElement("li");o.textContent=e,o.addEventListener("click",(function(){n(e),function(e){n(e),y()}(e)})),t.appendChild(o)};for(var r in e)o(r)}u=document.getElementById("addTodo"),a=document.querySelector(".close"),l=document.querySelector("#todoform"),d=document.getElementById("deleteProject"),s=document.getElementById("addProject"),a.addEventListener("click",(function(){l.reset(),p()})),d.addEventListener("click",(function(){t&&confirm('Are you sure you want to delete the project "'.concat(t,'"?'))&&(delete e[t],n(null),v(),g(),y())})),s.addEventListener("click",(function(){var t=document.getElementById("projectName"),o=t.value.trim();o&&!e[o]&&(e[o]=[],n(o),v(),g(),y(),t.value="")})),u.addEventListener("click",(function(){t?p():alert("Please select a project first.")})),l.addEventListener("submit",(function(n){n.preventDefault();var o=document.querySelector("#title").value,r=document.querySelector("#description").value,c=document.querySelector("#urgency").value,i=document.querySelector("#dueDate").value,u=new m(o,r,c,i);e[t].push(u),f(u),v(),document.querySelector("#todoform").reset(),p()})),function(){var n=localStorage.getItem("projects");n&&(e=JSON.parse(n));var o=localStorage.getItem("currentProject");t=o&&e[o]?o:Object.keys(e)[0]||null,g(),y()}(),g()})();